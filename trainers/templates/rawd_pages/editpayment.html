{% extends "./base/base.html" %}
{% load static %}

{% block title %}โ๏ธ ุชุนุฏูู ุงูุฏูุนุฉ{% endblock %}

{% block content %}
<div class="container mt-4">

  <!-- Card -->
  <div class="card shadow-sm">
    <div class="card-header bg-warning text-dark d-flex justify-content-between align-items-center">
      <h5 class="mb-0">โ๏ธ ุชุนุฏูู ุงูุฏูุนุฉ</h5>
      <a href="{% url 'payments' %}" class="btn btn-sm btn-outline-dark">ุฑุฌูุน</a>
    </div>
    <div class="card-body">

      <form method="post" class="row g-3">
        {% csrf_token %}

        <!-- Student Info (read only) -->
        <div class="col-12">
          <label class="form-label">ุงูุทุงูุจ</label>
          <input type="text" class="form-control" value="{{ payment.student.fname }} {{ payment.student.lname }}" readonly disabled>
        </div>

        <!-- Payment Type -->
        <div class="col-md-6">
          <label class="form-label">ููุน ุงูุฏูุน</label>
          <select name="type" class="form-select" required>
            <option value="monthly" {% if payment.type == "monthly" %}selected{% endif %}>ุดูุฑู</option>
            <option value="annual" {% if payment.type == "annual" %}selected{% endif %}>ุณููู</option>
          </select>
        </div>

        <!-- Amount -->
        <div class="col-md-6">
          <label class="form-label">ุงููุจูุบ</label>
          <input type="number" step="0.01" name="amount" value="{{ payment.amount }}" class="form-control" required>
        </div>

        <!-- Date -->
        <div class="col-md-6">
          <label class="form-label">๐ ุงูุชุงุฑูุฎ</label>
          <input type="date" name="date" value="{{ payment.date|date:'Y-m-d' }}" class="form-control">
        </div>

        <!-- Description -->
        <div class="col-12">
          <label class="form-label">ุงููุตู</label>
          <textarea name="description" rows="3" class="form-control">{{ payment.description }}</textarea>
        </div>

        <!-- Submit -->
        <div class="col-12 d-grid">
          <button type="submit" class="btn btn-success">๐พ ุญูุธ ุงูุชุบููุฑุงุช</button>
        </div>
      </form>

    </div>
  </div>
</div>
{% endblock %}
